<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../css/mui.css" rel="stylesheet" />
		 <link href="../css/video-js.min.css" rel="stylesheet">
		 <script src="../js/video.js"></script>
		<script src="../js/video.min.js"></script>
		<script src="../js/videojs-contrib-hls.js"></script>
		<script src="../js/videojs-contrib-hls.min.js"></script>
	</head>
	<script src="../js/mui.js"></script>
	<script src="../js/mui.min.js"></script>
	<script type="text/javascript">
		mui.init()
		mui.plusReady(function(){
			var self = plus.webview.currentWebview();
			var name = self.name;//获得参数
			var src = self.src;
			console.log("name=" + name)
			console.log("src=" + src)
		})
		
	</script>

	<header class="mui-bar mui-bar-nav">
		<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		<h5 class="mui-title">花木兰</h5>
	</header>
	
	<body>
		<video id="video" 
		class="video-js vjs-big-play-centered vjs-fluid"
		controls
		autoplay="true" 
		topreload="auto" 
		height="300" 
		loop="true" 
		poster="" 
		data-setup="{}">
<!-- 				  <source src="../download/videoplayback.webm" type="video/webm"> -->
		  <source src="https://d2zihajmogu5jn.cloudfront.net/bipbop-advanced/bipbop_16x9_variant.m3u8" type="application/x-mpegURL">
		  <p class="vjs-no-js">
			TEST
		  </p>
		</video>
	</body>
	
	<script type="text/javascript">
		var options = {};
		var player = videojs('video', options, function onPlayerReady() {
		  videojs.log('Your player is ready!');

		  // In this context, `this` is the player that was created by Video.js.
		  //this.play();

		  // How about an event listener?
		   this.on('play', function () {
			   console.log('开始/恢复播放');
		   });
		   this.on('pause', function () {
			   console.log('暂停播放');
		   });
		   this.on('ended', function () {
			   console.log('结束播放');
		   });
		   this.on('fullscreenchange', function () {
			   console.log('全屏变化');
			   var isFullScreen = this.isFullscreen();
			   console.log('是否是全屏:' + isFullScreen);
				if (isFullScreen) {
					console.log('是全屏，解除屏幕锁定');
					plus.screen.unlockOrientation();
				}else{
					console.log('不是全屏，执行屏幕锁定');
					plus.screen.lockOrientation("portrait-primary"); 
				}

		   });

			// this.on('enterFullScreen', function(){
			// 	console.log('进入全屏');
			// 	plus.screen.unlockOrientation();
			// });
			// this.on('exitFullScreen', function(){
			// 	console.log('退出全屏');
			// 	plus.screen.lockOrientation("portrait-primary"); 
			// });
		});

	</script>
	
</html>
