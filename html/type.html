<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>顶部选项卡-可左右拖动</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="../css/mui.min.css">
	</head>
	<body>
		<style>
			.mui-control-content {
			background-color: white;
			min-height: 215px;
			}
			.mui-control-content .mui-loading {
			margin-top: 50px;
			}
			.mui-slider-group{
				height: 48.25rem;
			}
			.mui-media-object{
				border-radius:8px 8px 8px 8px
			}
        </style>
		
		<div class="mui-content">
			<div id="slider" class="mui-slider">
				<div id="sliderSegmentedControl" class="mui-slider-indicator mui-segmented-control mui-segmented-control-inverted">
					<a class="mui-control-item" href="#item1mobile">国产</a>
					<a class="mui-control-item" href="#item2mobile">日韩</a>
					<a class="mui-control-item" href="#item3mobile">欧美</a>
				</div>
				<div id="sliderProgressBar" class="mui-slider-progress-bar mui-col-xs-4"></div>
				<div class="mui-slider-group">
					<div id="item1mobile" class="mui-slider-item mui-control-content mui-active">
						<div id="scroll1" class="mui-scroll-wrapper">
							<div class="mui-scroll">
								<ul class="mui-table-view mui-grid-view" id="type1"></ul>
								
								<script type="text/html" id="type1Model">
									{{each type1 as value index}}
									<li class="mui-table-view-cell mui-media mui-col-xs-6" type-id="{{value.id}}">
											<img class="mui-media-object" src="../images/home21.jpg">
											<div class="mui-media-body">{{value.name}}</div>
									</li>
									{{/each}}
								</script>																
							</div>
						</div>
					</div>
					
					<div id="item2mobile" class="mui-slider-item mui-control-content">
						<div id="scroll2" class="mui-scroll-wrapper">
							<div class="mui-scroll">
								<!-- <div class="mui-loading"><div class="mui-spinner"></div></div> -->
								<ul class="mui-table-view mui-grid-view" id="type2"></ul>
									<script type="text/html" id="type2Model">
										{{each type2 as value index}}
										<li class="mui-table-view-cell mui-media mui-col-xs-6" type-id="{{value.id}}">
												<img class="mui-media-object" src="../images/home23.jpg">
												<div class="mui-media-body">{{value.name}}</div>
										</li>
										{{/each}}
									</script>								
							</div>
						</div>
					</div>
					<div id="item3mobile" class="mui-slider-item mui-control-content">
						<div id="scroll3" class="mui-scroll-wrapper">
							<div class="mui-scroll">
								<!-- <div class="mui-loading"><div class="mui-spinner"></div></div> -->
								<ul class="mui-table-view mui-grid-view" id="type3"></ul>
								 <script type="text/html" id="type3Model">
								 	{{each type3 as value index}}
								 	<li class="mui-table-view-cell mui-media mui-col-xs-6" type-id="{{value.id}}">
								 			<img class="mui-media-object" src="../images/home22.jpg">
								 			<div class="mui-media-body">{{value.name}}</div>
								 	</li>
								 	{{/each}}
								 </script>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script src="../js/mui.min.js"></script>
		<script src="../js/lib/template-web.js" type="text/javascript" charset="utf-8"></script>
		<script>
			mui.init({
				swipeBack: false
			});
			(function($) {
				$('.mui-scroll-wrapper').scroll({
					indicators: true //是否显示滚动条
				});
			})(mui);			
			
			mui.plusReady(function () {
			   var data ={type1:[{id:'11',name:'子类型1',src:'src...'},{id:'12',name:'子类型1',src:'src...'},{id:'13',name:'子类型1',src:'src...'},{id:'14',name:'子类型1',src:'src...'}],type2:[{id:'15',name:'子类型2',src:'src...'},{id:'16',name:'子类型2',src:'src...'},{id:'17',name:'子类型2',src:'src...'},{id:'18',name:'子类型2',src:'src...'}],type3:[{id:'19',name:'子类型3',src:'src...'},{id:'20',name:'子类型3',src:'src...'},{id:'21',name:'子类型3',src:'src...'},{id:'22',name:'子类型3',src:'src...'}]};
			   var html1=template('type1Model',data);
			   var html2=template('type2Model',data);
			   var html3=template('type3Model',data);
			   document.getElementById("type1").innerHTML=html1;
			   document.getElementById("type2").innerHTML=html2;
			   document.getElementById("type3").innerHTML=html3;
			})
			
			
			//进入类型			
			mui(".mui-slider-group").on('tap','.mui-table-view-cell',function(){
				var id = this.getAttribute("type-id");	
				var src=this.querySelector('img').getAttribute('src')
				var tyepName=this.querySelector('div').innerHTML;
			    //传值给详情页面，通知加载新数据	
				//typedata=plus.webview.getWebviewById('type_list.html')
				//mui.fire(typedata,'type_list',{typeId:id,typePic:src});
				//打开类型详细列表
				mui.openWindow({
					id:'type_list',
					url:'../html/type/type_list.html',
					extras:{
						typeId:id,
						typePic:"../"+src,
						tyepName:tyepName
					}
				 });				  
			})		
			
		</script>
	</body>
</html>
